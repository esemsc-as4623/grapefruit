# Environment Configuration for Grapefruit AI Shopping Assistant
# Copy this file to .env and update with your actual values

# ============================================
# APPLICATION ENVIRONMENT
# ============================================
NODE_ENV=development
LOG_LEVEL=info

# ============================================
# DATABASE CONFIGURATION
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=grapefruit
DB_USER=grapefruit
DB_PASSWORD=grapefruit

# Alternative: Full connection string (overrides individual DB vars if set)
# DATABASE_URL=postgresql://grapefruit:grapefruit@localhost:5432/grapefruit

# ============================================
# BACKEND API CONFIGURATION
# ============================================
BACKEND_PORT=5000
HOST=0.0.0.0

# ============================================
# FRONTEND CONFIGURATION
# ============================================
# Frontend port (3000 for development, 80 for production)
FRONTEND_PORT=3000

# Backend API URL for frontend (update with your domain in production)
REACT_APP_API_URL=http://localhost:5000

# Development environment (affects React build optimizations)
REACT_APP_ENV=development

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Encryption key for sensitive data (64 hex characters = 32 bytes)
# ‚ö†Ô∏è  CRITICAL: This is REQUIRED for the application to start!
# Generate with one of these commands:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#   openssl rand -hex 32
# 
# Example output: 61ff08e490131afd25e67281b3b9e3e19e58e8f668212c6a3c94bf33fd143ded
# 
# ‚ö†Ô∏è  SECURITY WARNING:
#   - Never commit your actual key to version control!
#   - Store securely (password manager, secrets management system)
#   - Rotate periodically in production
#   - Keep backups - losing the key means losing access to encrypted data
ENCRYPTION_KEY=

# ============================================
# SSL/TLS CONFIGURATION (Production Only)
# ============================================
# Enable HTTPS (set to 'true' in production)
ENABLE_HTTPS=false

# SSL Certificate paths (required when ENABLE_HTTPS=true)
# Generate self-signed cert for testing:
# openssl req -nodes -new -x509 -keyout server.key -out server.cert -days 365
SSL_KEY_PATH=./ssl/server.key
SSL_CERT_PATH=./ssl/server.cert

# ============================================
# LLM / AI SERVICES CONFIGURATION
# ============================================
# ASI Cloud API - ‚ö†Ô∏è  REQUIRED for receipt parsing and smart pricing
# 
# How to get your FREE API key:
#   1. Sign up at: https://asicloud.cudos.org/signup
#   2. Go to Dashboard ‚Üí API Keys
#   3. Create new key
#   4. Copy and paste below
# 
# Example: sk-L5fY4cxNqu9jRvZpVi_6jkye2D7pLGnq7jvR5bAaW-k
# 
# ‚ö†Ô∏è  Without this key:
#   - Receipt parsing will fail
#   - Smart pricing will not work
#   - Item categorization will fail
ASI_API_KEY=

# ASI Cloud endpoint (use default unless using custom deployment)
ASI_BASE_URL=https://inference.asicloud.cudos.org/v1

# Model to use for AI operations
# Options: asi1-mini (recommended), asi1-large (more accurate but slower)
ASI_MODEL=asi1-mini

# LLM Response Caching (reduces API costs by ~80%)
# Recommended: true for production
LLM_CACHE_ENABLED=true

# Debug mode - set to 'true' to see full LLM responses in logs
# Useful for troubleshooting receipt parsing issues
LLM_DEBUG=false

# ============================================
# OCR SERVICE CONFIGURATION
# ============================================
# Google Gemini API for OCR text cleaning and enhancement
# 
# How to get your FREE API key:
#   1. Go to: https://aistudio.google.com/app/apikey
#   2. Click "Create API Key"
#   3. Copy and paste below
# 
# Example: AIzaSyDYb2GFg3dXSjnqWbUUwc9ja54x1fQNrsg
# 
# üí° OPTIONAL but RECOMMENDED:
#   - Improves OCR accuracy by ~15%
#   - Better receipt text extraction
#   - Handles poor quality images
#   - Free tier: 60 requests per minute
GOOGLE_API_KEY=

# OCR Service URL (internal Docker network)
OCR_SERVICE_URL=http://ocr-service:8000

# ============================================
# VENDOR API CONFIGURATION (Future Features)
# ============================================
# Amazon Product Advertising API (for real product data)
# Currently using mock catalog - these will enable real Amazon integration
AMAZON_ACCESS_KEY=your-amazon-access-key
AMAZON_SECRET_KEY=your-amazon-secret-key
AMAZON_PARTNER_TAG=your-amazon-partner-tag

# Walmart Open API (for multi-vendor support)
WALMART_API_KEY=your-walmart-api-key

# ============================================
# AUTO-ORDERING CONFIGURATION
# ============================================
# Enable automatic order detection (can be overridden per user)
AUTO_ORDER_ENABLED=true

# Default threshold in days for auto-order suggestions
# Users can override this in their preferences
AUTO_ORDER_THRESHOLD_DAYS=3

# ============================================
# NOTIFICATION SERVICES (Future Features)
# ============================================
# Email notifications for low inventory and order updates
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# Email notification settings
# NOTIFY_LOW_INVENTORY=true
# NOTIFY_ORDER_READY=true
# ADMIN_EMAIL=admin@yourdomain.com

# ============================================
# MONITORING & ANALYTICS (Future Features)
# ============================================
# Application monitoring and error tracking
# SENTRY_DSN=your-sentry-dsn-url

# Analytics service
# ANALYTICS_API_KEY=your-analytics-key

# ============================================
# DEVELOPMENT & TESTING
# ============================================
# Test database (separate from main database)
# TEST_DB_NAME=grapefruit_test
# TEST_DB_USER=grapefruit_test
# TEST_DB_PASSWORD=grapefruit_test

# Debug flags for development
# API_DEBUG=false
# SQL_DEBUG=false
